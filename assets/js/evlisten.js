var ud, dd, ld, rd, sd, md = false;var mx, my, mmx, mmy;document.addEventListener('keydown', function(e){    //console.log(e.keyCode);    /*     * 32 k     * 75 空格     */    if(e.keyCode == 68){        rd = true;    }    else if(e.keyCode == 65){        ld = true;    }    else if(e.keyCode == 87){        ud = true;    }    else if(e.keyCode == 83){        dd = true;    }    else if(e.keyCode == 32){        sd = true;    }}, false);document.addEventListener('keyup', function(e){    if(e.keyCode == 68){        rd = false;    }    else if(e.keyCode == 65){        ld = false;    }    else if(e.keyCode == 87){        ud = false;    }    else if(e.keyCode == 83){        dd = false;    }    else if(e.keyCode == 32){        sd = false;    }}, false);document.addEventListener('mousedown', function(e){    if(e.layerX || e.layerX == 0){        mx = e.layerX;        my = e.layerY;    }else if(e.offsetX || e.offsetX == 0){        mx = e.offsetX;        my = e.offsetY;    }    md = true;}, false);document.addEventListener('mouseup', function(e){    if(e.layerX || e.layerX == 0){        mx = e.layerX;        my = e.layerY;    }else if(e.offsetX || e.offsetX == 0){        mx = e.offsetX;        my = e.offsetY;    }    md = false;}, false);document.addEventListener('mousemove', function(e){    if(e.layerX || e.layerX == 0){        mmx = e.layerX;        mmy = e.layerY;    }else if(e.offsetX || e.offsetX == 0){        mmx = e.offsetX;        mmy = e.offsetY;    }    if(md){        mmx = mmx;        mmy = mmy;    }else{        mmx = null;        mmy = null;    }}, false);